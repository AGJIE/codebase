<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style type="text/css">
        div {
            width: 300px;
            height: 300px;
        }
    </style>
</head>
<body>
    <button id="btn">点击</button>

    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/1.12.4/jquery.js"></script>

    <script>    
        //有些事件，如mousemove和keypress，我们需要获取鼠标位置和按键的值，否则监听这些事件就没什么意义了。所有事件都会传入Event对象作为参数，可以从Event对象上获取到更多的信息

        $(function () {
            function writeHello(){
                alert("hello");
            }

            $("#btn").on("click", writeHello);

            setTimeout(function(){
                $("#btn").off("click", writeHello);
                console.log("事件已卸载");
            }, 5000);

            //特别注意的是，下面这种写法是无效的：
            /*
            // 绑定事件:
                a.click(function () {
                    alert('hello!');
                });

                // 解除绑定:
                a.off('click', function () {
                    alert('hello!');
                });
            */

            //这是因为两个匿名函数虽然长得一模一样，但是它们是两个不同的函数对象，off('click', function () {...})无法移除已绑定的第一个匿名函数。
            /*
                为了实现移除效果，可以使用off('click')一次性移除已绑定的click事件的所有处理函数。

                同理，无参数调用off()一次性移除已绑定的所有类型的事件处理函数。
            */
        });
    </script>
</body>
</html>